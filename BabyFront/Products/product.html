<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PikaBaby</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/nav.css">
    <style>
        /* Main Content Styles */
        .main-content {
            margin-top: 50px;
            padding: 20px;
        }

        /* æ’åºåŠŸèƒ½å€åŸŸ */
        .sort-container {
            max-width: 1200px;
            margin: 0 auto 20px auto;
            padding: 0 20px;
            display: flex;
            justify-content: flex-end;
        }

        .sort-dropdown {
            position: relative;
            display: inline-block;
        }

        .sort-button {
            padding: 8px 15px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .sort-button::after {
            content: "â–¼";
            font-size: 12px;
            margin-left: 5px;
        }

        .sort-options {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background-color: #fff;
            min-width: 160px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            z-index: 1000;
        }

        .sort-dropdown:hover .sort-options {
            display: block;
        }

        .sort-options a {
            color: #333;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .sort-options a:hover {
            background-color: #f5f5f5;
        }

        .sort-options a.active {
            background-color: #FFE135;
            color: #000;
        }

        /* ç¯©é¸é¢æ¿æ¨£å¼ */
        .filter-container {
            max-width: 1200px;
            margin: 0 auto 20px auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .filter-section {
            flex: 1;
            min-width: 200px;
        }

        .filter-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        /* ä¸‹æ‹‰é¸å–®æ¨£å¼ */
        .sort-select,
        .category-select,
        .condition-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 16px;
        }

        .sort-select:hover,
        .category-select:hover,
        .condition-select:hover {
            border-color: #999;
        }

        .sort-select:focus,
        .category-select:focus,
        .condition-select:focus {
            outline: none;
            border-color: #FFE135;
            box-shadow: 0 0 3px rgba(255, 225, 53, 0.3);
        }

        /* æœç´¢æ¡†æ¨£å¼ */
        .search-box {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .search-box:focus {
            outline: none;
            border-color: #FFE135;
            box-shadow: 0 0 3px rgba(255, 225, 53, 0.3);
        }

        .banner-image {
            width: 1200px;
            height: 1000px;
            margin: auto;
            display: block;
            /* object-fit: cover; */
            margin-bottom: 40px;
        }

        .products-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 40px;
            padding: 20px;
        }

        .product-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
            width: 100%;
            background-color: #fff;
            text-decoration: none;
            color: inherit;
            cursor: pointer;
            position: relative;
        }

        .product-link {
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .wishlist-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #ccc;
            transition: color 0.3s ease;
            z-index: 2;
        }

        .wishlist-btn:hover {
            color: #ff4d4d;
        }

        .wishlist-btn.active {
            color: #ff4d4d;
        }

        .wishlist-btn:not(.active)::before {
            content: "â™¡";
        }

        .wishlist-btn.active::before {
            content: "â™¥";
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ff4d4d;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-to-cart-btn {
            width: 100%;
            padding: 10px 15px;
            background-color: #FFE135;
            border: none;
            border-radius: 4px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 10px;
        }

        .add-to-cart-btn:hover {
            background-color: #FFD700;
            transform: translateY(-2px);
        }

        .cart-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            z-index: 1000;
            display: none;
            animation: fadeInOut 2s ease-in-out;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }

            15% {
                opacity: 1;
                transform: translateY(0);
            }

            85% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .product-image {
            width: 250px;
            height: 250px;
            object-fit: contain;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-title {
            font-size: 16px;
            margin: 10px 0;
            color: #333;
        }

        .product-price {
            font-weight: bold;
            color: #e44d26;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 14px;
            margin-right: 8px;
        }

        .hot-tag {
            color: red;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .product-card {
            text-decoration: none;
            color: inherit;
            position: relative;
        }

        .age-recommendation {
            background-color: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            color: #666;
            margin-top: 8px;
            text-align: center;
        }
    </style>
</head>

<body>
    <header>
        <!-- ç½®é ‚çš„ä¿ƒéŠ·è¨Šæ¯ -->
        <div class="top-banner">
            æ¯é€±äº”å…­æ—¥ğŸ”¥æ–°äººä»£ç†å¯„è³£å…é‹
            <font color="red">25 æ—¥ 23 æ™‚ 14 åˆ† 35 ç§’</font>
            <div style="display: inline-block; background-color: black; color: white">
                Ispian love you
            </div>
        </div>
        <!-- LOGO -->
        <div class="nav-logo-row">
            <img src="../images/pikababy.png" alt="PikaBaby" class="nav-logo" />
        </div>
    </header>
    <!-- å°è¦½åˆ— -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <!-- <div class="collapse navbar-collapse justify-content-center d-flex" id="navbarSupportedContent"> -->
            <div class="collapse navbar-collapse justify-content-around d-flex" id="navbarSupportedContent">
                <!-- LOGO -->
                <img src="../images/logo-pikababy.png" alt="PikaBaby"
                    style="height: 80px; width: 0px; transition: 3s; display: none;" />
                <ul class="navbar-nav ml-auto nav-links gap-5 me-0">
                    <li class="nav-item d-flex align-items-center">
                        <a href="../index.html">é¦–é </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown1" role="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            å¹´é½¡å€é–“(0-3M)
                        </a>
                        <div class="dropdown-menu p-3 justify-content-center" aria-labelledby="navbarDropdown1">
                            <a class="dropdown-item" href="../Products/product.html?category=feeding">å¥¶ç“¶/å¥¶å˜´</a>
                            <a class="dropdown-item" href="../Products/product.html?category=clothes">åœå…œ/æ¹å·¾</a>
                            <a class="dropdown-item" href="../Products/product.html?category=clothes">å¬°å…’æœè£</a>
                            <a class="dropdown-item" href="../Products/product.html?category=care">æ¸…æ½”ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=stroller">å¬°å…’æ¨è»Š</a>
                            <a class="dropdown-item" href="../Products/product.html?category=furniture">å¬°å…’åºŠ</a>
                            <a class="dropdown-item" href="../Products/product.html?category=feeding">å“ºä¹³ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=care">å¬°å…’ç”¨å“</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown2" role="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            å¹´é½¡å€é–“(3-6M)
                        </a>
                        <div class="dropdown-menu p-3 justify-content-center" aria-labelledby="navbarDropdown2">
                            <a class="dropdown-item" href="../Products/product.html?category=clothes">å¬°å…’æœè£</a>
                            <a class="dropdown-item" href="../Products/product.html?category=toys">ç©å…·</a>
                            <a class="dropdown-item" href="../Products/product.html?category=stroller">å¬°å…’æ¨è»Š</a>
                            <a class="dropdown-item" href="../Products/product.html?category=furniture">å¬°å…’åºŠ</a>
                            <a class="dropdown-item" href="../Products/product.html?category=car-seat">æ±½åº§</a>
                            <a class="dropdown-item" href="../Products/product.html?category=care">å¬°å…’ç”¨å“</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown3" role="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            å¹´é½¡å€é–“(6-12M)
                        </a>
                        <div class="dropdown-menu p-3 justify-content-center" aria-labelledby="navbarDropdown3">
                            <a class="dropdown-item" href="../Products/product.html?category=walking">å­¸æ­¥ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=dining">é¤å…·ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=clothes">å¹¼å…’æœè£</a>
                            <a class="dropdown-item" href="../Products/product.html?category=toys">ç©å…·</a>
                            <a class="dropdown-item" href="../Products/product.html?category=stroller">å¬°å…’æ¨è»Š</a>
                            <a class="dropdown-item" href="../Products/product.html?category=car-seat">æ±½åº§</a>
                            <a class="dropdown-item" href="../Products/product.html?category=care">å¬°å…’ç”¨å“</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown4" role="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            å¹´é½¡å€é–“(2-3y)
                        </a>
                        <div class="dropdown-menu p-3 justify-content-center" aria-labelledby="navbarDropdown4">
                            <a class="dropdown-item" href="../Products/product.html?category=education">å¹¼æ•™ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=clothes">å…’ç«¥æœè£</a>
                            <a class="dropdown-item" href="../Products/product.html?category=toys">ç©å…·</a>
                            <a class="dropdown-item" href="../Products/product.html?category=car-seat">æ±½åº§</a>
                            <a class="dropdown-item" href="../Products/product.html?category=stroller">å…’ç«¥æ¨è»Š</a>
                            <a class="dropdown-item" href="../Products/product.html?category=furniture">é¤æ¤…</a>
                            <a class="dropdown-item" href="../Products/product.html?category=appliance">é›»å™¨ç”¨å“</a>
                            <a class="dropdown-item" href="../Products/product.html?category=care">å¬°å…’ç”¨å“</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown5" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            äºŒæ‰‹è¨—å”®
                        </a>
                        <div class="dropdown-menu p-3 justify-content-center gap-5" aria-labelledby="navbarDropdown5">
                            <a class="dropdown-item" href="../Secondhand/consign.html">è¨—å”®æœå‹™</a>
                            <a class="dropdown-item" href="../Secondhand/consign_apply.html">äºŒæ‰‹è¨—å”®ç”³è«‹</a>
                            <a class="dropdown-item" href="../Secondhand/consign_search.html">è¨—å”®ç´€éŒ„æŸ¥è©¢</a>
                            <a class="dropdown-item" href="../Secondhand/withdraw_apply.html">è¨—å”®ææ¬¾ç”³è«‹</a>
                            <a class="dropdown-item" href="../Secondhand/withdraw_search.html">ææ¬¾ç´€éŒ„æŸ¥è©¢</a>
                        </div>
                    </li>
                    <li class="nav-item d-flex align-items-center">
                        <a href="../about.html">é—œæ–¼æˆ‘å€‘</a>
                    </li>
                    <ul class="d-flex gap-3">
                        <!-- <li class="nav-item d-flex align-items-center">
                            <a class="fs-5" href="../Shopping/shoppingcart.html">ğŸ›’</a>
                        </li> -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" id="navbarDropdown5" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                ğŸ›’
                            </a>
                            <div class="dropdown-menu p-3 justify-content-center gap-5"
                                aria-labelledby="navbarDropdown5">
                                <a class="dropdown-item" href="../Shopping/shoppingcart.html">è³¼ç‰©è»Š</a>
                                <a class="dropdown-item" href="../Shopping/order.html">è¨‚å–®æŸ¥è©¢</a>
                            </div>
                        </li>
                        <li class="nav-item d-flex align-items-center">
                            <a class="fs-5" href="../Member/login.html">ğŸ‘¤</a>
                        </li>
                    </ul>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="main-content">
        <!-- Banneråœ–ç‰‡ -->
        <img src="../images/banner.jpg" alt="Banner" class="banner-image">

        <!-- ç¯©é¸é¢æ¿ -->
        <div class="filter-container">
            <!-- æ’åºä¸‹æ‹‰é¸å–® -->
            <div class="filter-section">
                <div class="filter-title">æ’åºæ–¹å¼</div>
                <select class="sort-select" id="sort-select">
                    <option value="default">é è¨­æ’åº</option>
                    <option value="price-low-high">åƒ¹æ ¼å¾ä½åˆ°é«˜</option>
                    <option value="price-high-low">åƒ¹æ ¼å¾é«˜åˆ°ä½</option>
                    <option value="newest">æœ€æ–°ä¸Šæ¶</option>
                    <option value="hot">ç†±éŠ·æ¨è–¦</option>
                    <option value="brand">å“ç‰Œ</option>
                </select>
            </div>

            <!-- å•†å“ç¨®é¡ç¯©é¸ -->
            <div class="filter-section">
                <div class="filter-title">å•†å“ç¨®é¡</div>
                <select class="category-select" id="category-select">
                    <option value="">å…¨éƒ¨å•†å“</option>
                    <option value="feeding">å¥¶ç“¶/å¥¶å˜´/é¤å…·</option>
                    <option value="clothes">å¬°å¹¼å…’æœè£</option>
                    <option value="care">æ¸…æ½”/è­·ç†ç”¨å“</option>
                    <option value="stroller">å¬°å…’æ¨è»Š</option>
                    <option value="furniture">å¬°å…’åºŠ/é¤æ¤…</option>
                    <option value="toys">ç©å…·</option>
                    <option value="walking">å­¸æ­¥ç”¨å“</option>
                    <option value="car-seat">æ±½åº§</option>
                    <option value="education">å¹¼æ•™ç”¨å“</option>
                    <option value="electronics">é›»å™¨ç”¨å“</option>
                </select>
            </div>

            <!-- å•†å“ç‹€æ…‹ç¯©é¸ -->
            <div class="filter-section">
                <div class="filter-title">å•†å“ç‹€æ…‹</div>
                <select class="condition-select" id="condition-select">
                    <option value="">å…¨éƒ¨</option>
                    <option value="new">å…¨æ–°å•†å“</option>
                    <option value="used">äºŒæ‰‹å•†å“</option>
                </select>
            </div>

            <!-- é—œéµå­—æœå°‹ -->
            <div class="filter-section">
                <div class="filter-title">é—œéµå­—æœå°‹</div>
                <input type="text" class="search-box" placeholder="è«‹è¼¸å…¥é—œéµå­—...">
            </div>
        </div>

        <!-- å•†å“å€å¡Š -->
        <div class="products-container">
            <div class="products-grid">
                <!-- å•†å“1 -->
                <div class="product-card" data-category="toys" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-1.html" class="product-link">
                        <img src="../images/product1.jpg" alt="munchkin æ´—æ¾¡ç©å…·çµ„" class="product-image">
                        <h3 class="product-title">munchkin æ´—æ¾¡ç©å…·çµ„</h3>
                        <p class="product-price">å”®åƒ¹ï¼š250å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š3-12å€‹æœˆ</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="1" data-product-name="munchkin æ´—æ¾¡ç©å…·çµ„"
                        data-product-price="250" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“2 -->
                <div class="product-card" data-category="education" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-2.html" class="product-link">
                        <img src="../images/product2.jpg" alt="Toyroyaiç©æœ¨ ç£éµçµ„" class="product-image">
                        <h3 class="product-title">Toyroyaiç©æœ¨ ç£éµçµ„</h3>
                        <p class="product-price">å”®åƒ¹ï¼š230å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š1-3æ­²</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="2" data-product-name="Toyroyaiç©æœ¨ ç£éµçµ„"
                        data-product-price="230" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“3 -->
                <div class="product-card" data-category="electronics" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-3.html" class="product-link">
                        <img src="../images/product5.png" alt="Chicco å°ç‹ç‹¸ç´…å¤–ç·šè€³æº«æ§" class="product-image">
                        <h3 class="product-title">Chicco å°ç‹ç‹¸ç´…å¤–ç·šè€³æº«æ§</h3>
                        <p class="product-price">å”®åƒ¹ï¼š780å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š0-3æ­²</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="3" data-product-name="Chicco å°ç‹ç‹¸ç´…å¤–ç·šè€³æº«æ§"
                        data-product-price="780" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“4 -->
                <div class="product-card" data-category="electronics" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-4.html" class="product-link">
                        <img src="../images/product44.jpg" alt="NUNAè·è˜­-CUDL Clikå¤šåŠŸèƒ½æ¹å¸¶" class="product-image">
                        <h3 class="product-title">NUNAè·è˜­-CUDL Clikå¤šåŠŸèƒ½æ¹å¸¶</h3>
                        <p class="product-price">å”®åƒ¹ï¼š8300å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š0æ­²ä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="4" data-product-name="NUNAè·è˜­-CUDL Clikå¤šåŠŸèƒ½æ¹å¸¶"
                        data-product-price="8300" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“5 -->
                <div class="product-card" data-category="electronics" data-condition="new">

                    <a href="/Products/product-detail-5.html" class="product-link">
                        <img src="../images/product6.jpg" alt="Fisher Price è²»é›ª little people é¨ä¹˜ç©å…·"
                            class="product-image">
                        <h3 class="product-title">Fisher Price è²»é›ª é¨ä¹˜ç©å…·</h3>
                        <p class="product-price">å”®åƒ¹ï¼š1099å…ƒ</p>
                    </a> <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>
                    <div class="age-recommendation">é©åˆï¼š0æ­²ä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="5"
                        data-product-name="Fisher Price è²»é›ª little people é¨ä¹˜ç©å…·" data-product-price="1099"
                        onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“6 -->
                <div class="product-card" data-category="education" data-condition="new">

                    <a href="/Products/product-detail-6.html" class="product-link">
                        <img src="../images/product3.jpg" alt="splash book å¯¶å¯¶æ´—æ¾¡æ›¸" class="product-image">
                        <h3 class="product-title">splash book å¯¶å¯¶æ´—æ¾¡æ›¸</h3>
                        <p class="product-price">å”®åƒ¹ï¼š165å…ƒ</p>
                    </a> <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>
                    <div class="age-recommendation">é©åˆï¼š6å€‹æœˆä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="6" data-product-name="splash book å¯¶å¯¶æ´—æ¾¡æ›¸"
                        data-product-price="165" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“7 -->
                <div class="product-card" data-category="toys" data-condition="used">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-7.html" class="product-link">
                        <img src="../images/product4.jpg" alt="Kids II Oball æ–°ç±³å¦®æ²™æ²™å¬°å…’çƒ" class="product-image">
                        <h3 class="product-title">Kids II Oball æ–°ç±³å¦®æ²™æ²™å¬°å…’çƒ</h3>
                        <p class="product-price">å”®åƒ¹ï¼š330å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š3å€‹æœˆä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="7" data-product-name="Kids II Oball æ–°ç±³å¦®æ²™æ²™å¬°å…’çƒ"
                        data-product-price="330" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“8 -->
                <div class="product-card" data-category="education" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-8.html" class="product-link">
                        <img src="../images/product6.png" alt="å¾·åœ‹ Hape ç¾å¾·å¡å¤šåŠŸèƒ½å­¸ç¿’æ¶" class="product-image">
                        <h3 class="product-title">å¾·åœ‹ Hape ç¾å¾·å¡å¤šåŠŸèƒ½å­¸ç¿’æ¶</h3>
                        <p class="product-price">å”®åƒ¹ï¼š1180å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š1-3æ­²</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="8" data-product-name="å¾·åœ‹ Hape ç¾å¾·å¡å¤šåŠŸèƒ½å­¸ç¿’æ¶"
                        data-product-price="1180" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“9 -->
                <div class="product-card" data-category="toys" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-9-1.html" class="product-link">
                        <img src="../images/product7.png" alt="Chicco å¤šåŠŸèƒ½åºŠé ­éŸ³æ¨‚éˆ´" class="product-image">
                        <h3 class="product-title">Chicco å¤šåŠŸèƒ½åºŠé ­éŸ³æ¨‚éˆ´</h3>
                        <p class="product-price">å”®åƒ¹ï¼š1580å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š0-12å€‹æœˆ</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="9" data-product-name="Chicco å¤šåŠŸèƒ½åºŠé ­éŸ³æ¨‚éˆ´"
                        data-product-price="1580" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“10 -->
                <div class="product-card" data-category="toys" data-condition="used">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-10.html" class="product-link">
                        <img src="../images/product8.jpg" alt="æ³•åœ‹Janod-éŸ³æ¨‚å¥½å¥½ç©-éµç´" class="product-image">
                        <h3 class="product-title">æ³•åœ‹Janod-éŸ³æ¨‚å¥½å¥½ç©-éµç´</h3>
                        <p class="product-price">å”®åƒ¹ï¼š880å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š2æ­²ä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="10" data-product-name="æ³•åœ‹Janod-éŸ³æ¨‚å¥½å¥½ç©-éµç´"
                        data-product-price="880" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“11 -->
                <div class="product-card" data-category="clothes" data-condition="new">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-11.html" class="product-link">
                        <img src="../images/product11.jpg" alt="Carter's å¬°å…’é€£èº«è¡£" class="product-image">
                        <h3 class="product-title">Carter's ç™½å…”é‚¦å¦®é•·è¢–åŒ…è…³é€£èº«è£</h3>
                        <p class="product-price">å”®åƒ¹ï¼š448å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š3æ­²ä»¥ä¸Š</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="11" data-product-name="Carter's å°ç™½å…”é‚¦å¦®é•·è¢–åŒ…è…³é€£èº«è£"
                        data-product-price="448" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>

                <!-- å•†å“12 -->
                <div class="product-card" data-category="stroller" data-condition="used">
                    <button class="wishlist-btn" onclick="toggleWishlist(this)"></button>

                    <a href="/Products/product-detail-12-1.html" class="product-link">
                        <img src="../images/product12.jpg" alt="Aprica è¼•é‡å‹æ¨è»Š" class="product-image">
                        <h3 class="product-title">Aprica è¼•é‡å‹æ¨è»Š</h3>
                        <p class="product-price">å”®åƒ¹ï¼š1500å…ƒ</p>
                    </a>
                    <div class="age-recommendation">é©åˆï¼š6å€‹æœˆ-3æ­²</div>
                    <div class="quantity-control"
                        style="display:flex;justify-content:center;align-items:center;margin-bottom:8px;">
                        <button class="quantity-btn minus" type="button">-</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="99"
                            style="width:40px;text-align:center;margin:0 5px;">
                        <button class="quantity-btn plus" type="button">+</button>
                    </div>
                    <button class="add-to-cart-btn" data-product-id="12" data-product-name="Aprica è¼•é‡å‹æ¨è»Š"
                        data-product-price="1500" onclick="addToCart(this)">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>
            </div>
        </div>
    </main>

    <!-- é å°¾ -->
    <footer>
        <div class="footer-container align-items-center">
            <div class="footer-section" style="flex: 0;">
                <img src="../images/logo-pikababy.png" alt="PikaBaby" class="footer-logo" />
            </div>
            <div class="footer-section w-100">
                <p class="footer-title">PikaBaby</p>
                <div class="footer-line"></div>
                <p class="mb-1">æœå‹™æˆ‘å€‘</p>
                <p class="mb-1">å“ç‰Œç‰¹è‰²</p>
            </div>
            <div class="footer-section w-100">
                <h3>å“ç‰Œæœå‹™</h3>
                <div class="footer-line"></div>
                <p class="mb-1">Baby Store</p>
                <p class="mb-1">äºŒæ‰‹å•†åŸ</p>
            </div>
            <div class="footer-section w-100">
                <h3>è¯çµ¡æˆ‘å€‘</h3>
                <div class="footer-line"></div>
                <p class="mb-1">è¯çµ¡é›»è©±ï¼š(04) 2326-5860</p>
                <p class="mb-1">è¯çµ¡åœ°å€ï¼šå°ä¸­å¸‚å—å±¯å€å…¬ç›Šè·¯äºŒæ®µ51è™Ÿ18æ¨“</p>
            </div>
        </div>
    </footer>

    <!-- è³¼ç‰©è»Šé€šçŸ¥ -->
    <div class="cart-notification"></div>

    <!-- å¥¶ç“¶ -->
    <div class="floating-bottle"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/navbar.js"></script>
    <script>
        // è³¼ç‰©è»ŠåŠŸèƒ½
        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let count = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCount = document.querySelector('.cart-count');
            if (cartCount) {
                cartCount.textContent = count;
                cartCount.style.display = count > 0 ? 'flex' : 'none';
            }
        }
        document.addEventListener('DOMContentLoaded', function () {
            updateCartCount();
            // æ•¸é‡æ§åˆ¶æŒ‰éˆ•
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const input = this.parentElement.querySelector('.quantity-input');
                    const currentValue = parseInt(input.value);

                    if (this.classList.contains('minus')) {
                        if (currentValue > 1) {
                            input.value = currentValue - 1;
                        }
                    } else {
                        if (currentValue < 99) {
                            input.value = currentValue + 1;
                        }
                    }
                });
            });

            // åŠ å…¥è³¼ç‰©è»ŠæŒ‰éˆ•
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    const productId = this.dataset.productId;
                    const productName = this.dataset.productName;
                    const productPrice = parseFloat(this.dataset.productPrice);
                    const quantityInput = this.parentElement.querySelector('.quantity-input');
                    const quantity = quantityInput ? parseInt(quantityInput.value) : 1;

                    // æª¢æŸ¥è³¼ç‰©è»Šä¸­æ˜¯å¦å·²æœ‰æ­¤å•†å“
                    const existingItem = cart.find(item => item.id === productId);

                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        cart.push({
                            id: productId,
                            name: productName,
                            price: productPrice,
                            quantity: quantity,
                            image: this.closest('.product-card').querySelector('.product-image').src
                        });
                    }

                    // ä¿å­˜åˆ° localStorage
                    localStorage.setItem('cart', JSON.stringify(cart));

                    // æ›´æ–°è³¼ç‰©è»Šæ•¸é‡
                    updateCartCount();

                    // å½ˆçª—é€šçŸ¥
                    alert(`å·²å°‡ ${productName} åŠ å…¥è³¼ç‰©è»Šï¼Œæ•¸é‡ï¼š${quantity}ï¼Œåƒ¹æ ¼ï¼š${productPrice}`);
                });
            });

            // é¡¯ç¤ºé€šçŸ¥
            function showNotification(message) {
                const notification = document.querySelector('.cart-notification');
                notification.textContent = message;
                notification.style.display = 'block';

                setTimeout(() => {
                    notification.style.display = 'none';
                }, 2000);
            }
        });

        // å¤šåˆ†é åŒæ­¥è³¼ç‰©è»Šæ•¸å­—
        window.addEventListener('storage', function (e) {
            if (e.key === 'cart') {
                updateCartCount();
            }
        });

        // æ•´åˆçš„ç¯©é¸å’Œæ’åºåŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function () {
            const products = document.querySelectorAll('.product-card');
            const sortSelect = document.getElementById('sort-select');
            const categorySelect = document.getElementById('category-select');
            const conditionSelect = document.getElementById('condition-select');
            const searchBox = document.querySelector('.search-box');

            // å…¨å±€è®Šé‡ä¾†å­˜å„²ç•¶å‰çš„ç¯©é¸æ¢ä»¶
            let currentFilters = {
                category: '',
                condition: '',
                search: '',
                sort: 'default'
            };

            // æ’åºå‡½æ•¸
            function sortProducts(products, sortBy) {
                const productsArray = Array.from(products);

                switch (sortBy) {
                    case 'price-low-high':
                        return productsArray.sort((a, b) => {
                            const priceA = parseInt(a.querySelector('.product-price').textContent.match(/\d+/)[0]);
                            const priceB = parseInt(b.querySelector('.product-price').textContent.match(/\d+/)[0]);
                            return priceA - priceB;
                        });
                    case 'price-high-low':
                        return productsArray.sort((a, b) => {
                            const priceA = parseInt(a.querySelector('.product-price').textContent.match(/\d+/)[0]);
                            const priceB = parseInt(b.querySelector('.product-price').textContent.match(/\d+/)[0]);
                            return priceB - priceA;
                        });
                    case 'newest':
                        return productsArray; // ä¿æŒåŸæœ‰é †åºï¼Œå‡è¨­æ˜¯æŒ‰æœ€æ–°æ’åº
                    case 'hot':
                        return productsArray.sort((a, b) => {
                            const isHotA = a.querySelector('.hot-tag') !== null;
                            const isHotB = b.querySelector('.hot-tag') !== null;
                            return isHotB - isHotA;
                        });
                    case 'brand':
                        return productsArray.sort((a, b) => {
                            const titleA = a.querySelector('.product-title').textContent;
                            const titleB = b.querySelector('.product-title').textContent;
                            return titleA.localeCompare(titleB, 'zh-TW');
                        });
                    default:
                        return productsArray;
                }
            }

            // æ•´åˆçš„ç¯©é¸å’Œæ’åºå‡½æ•¸
            function filterAndSortProducts() {
                products.forEach(product => {
                    const productCategory = product.dataset.category;
                    const productCondition = product.dataset.condition;
                    const productTitle = product.querySelector('.product-title').textContent.toLowerCase();

                    const matchesCategory = !currentFilters.category || productCategory === currentFilters.category;
                    const matchesCondition = !currentFilters.condition || productCondition === currentFilters.condition;
                    const matchesSearch = !currentFilters.search || productTitle.includes(currentFilters.search.toLowerCase());

                    if (matchesCategory && matchesCondition && matchesSearch) {
                        product.style.display = '';
                        product.style.opacity = '1';
                        product.style.transform = 'translateY(0)';
                    } else {
                        product.style.display = 'none';
                        product.style.opacity = '0';
                        product.style.transform = 'translateY(20px)';
                    }
                });

                // æ’åºå¯è¦‹çš„å•†å“
                const visibleProducts = Array.from(products).filter(p => p.style.display !== 'none');
                const sortedProducts = sortProducts(visibleProducts, currentFilters.sort);

                // é‡æ–°æ’åˆ—DOM
                const productsGrid = document.querySelector('.products-grid');
                sortedProducts.forEach(product => {
                    productsGrid.appendChild(product);
                });

                // æª¢æŸ¥æ˜¯å¦æœ‰é¡¯ç¤ºçš„å•†å“
                const noResultsMessage = document.querySelector('.no-results-message');
                if (visibleProducts.length === 0) {
                    if (!noResultsMessage) {
                        const message = document.createElement('div');
                        message.className = 'no-results-message';
                        message.style.textAlign = 'center';
                        message.style.padding = '20px';
                        message.style.color = '#666';
                        message.textContent = 'æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å•†å“';
                        productsGrid.appendChild(message);
                    }
                } else if (noResultsMessage) {
                    noResultsMessage.remove();
                }

                // æ›´æ–°é¸æ“‡å™¨çš„ç‹€æ…‹
                if (categorySelect && currentFilters.category) {
                    categorySelect.value = currentFilters.category;
                }
                if (conditionSelect && currentFilters.condition) {
                    conditionSelect.value = currentFilters.condition;
                }
                if (sortSelect && currentFilters.sort) {
                    sortSelect.value = currentFilters.sort;
                }
            }

            // ä¿®æ”¹ filterProducts å‡½æ•¸ï¼Œä½¿å…¶èƒ½å¤ è™•ç† URL åƒæ•¸
            window.filterProducts = function (category) {
                // æ›´æ–° URL åƒæ•¸
                const url = new URL(window.location.href);
                url.searchParams.set('category', category);
                window.history.pushState({}, '', url);

                // æ›´æ–°ç•¶å‰ç¯©é¸æ¢ä»¶
                currentFilters.category = category;

                // æ›´æ–°é¸æ“‡å™¨
                if (categorySelect) {
                    categorySelect.value = category;
                }

                // åŸ·è¡Œç¯©é¸
                filterAndSortProducts();
            };

            // é é¢è¼‰å…¥æ™‚æª¢æŸ¥ URL åƒæ•¸
            document.addEventListener('DOMContentLoaded', function () {
                const urlParams = new URLSearchParams(window.location.search);
                const categoryParam = urlParams.get('category');

                if (categoryParam) {
                    filterProducts(categoryParam);
                }
            });

            // æ·»åŠ äº‹ä»¶ç›£è½å™¨
            if (sortSelect) {
                sortSelect.addEventListener('change', function () {
                    currentFilters.sort = this.value;
                    filterAndSortProducts();
                });
            }

            if (categorySelect) {
                categorySelect.addEventListener('change', function () {
                    currentFilters.category = this.value;
                    filterAndSortProducts();
                });
            }

            if (conditionSelect) {
                conditionSelect.addEventListener('change', function () {
                    currentFilters.condition = this.value;
                    filterAndSortProducts();
                });
            }

            if (searchBox) {
                // ç‚ºæœç´¢æ¡†æ·»åŠ é˜²æŠ–å‹•çš„äº‹ä»¶ç›£è½å™¨
                let searchTimeout;
                searchBox.addEventListener('input', function () {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(() => {
                        currentFilters.search = this.value;
                        filterAndSortProducts();
                    }, 300);
                });
            }

            // æ·»åŠ å•†å“å¡ç‰‡çš„éæ¸¡æ•ˆæœ
            products.forEach(product => {
                product.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            });

            // åˆå§‹åŒ–ç¯©é¸
            filterAndSortProducts();
        });

        // é¡˜æœ›æ¸…å–®åŠŸèƒ½
        function toggleWishlist(button) {
            button.classList.toggle('active');
            const productCard = button.closest('.product-card');
            const productId = productCard.querySelector('.add-to-cart-btn').dataset.productId;
            const productName = productCard.querySelector('.product-title').textContent;
            const productPrice = productCard.querySelector('.product-price').textContent.match(/\d+/)[0];
            const productImage = productCard.querySelector('.product-image').src;

            // ç™¼é€è«‹æ±‚åˆ°å¾Œç«¯API
            fetch('/api/wishlist/toggle', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    productId: productId,
                    name: productName,
                    price: productPrice,
                    image: productImage
                })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    if (button.classList.contains('active')) {
                        showNotification(`å·²å°‡ ${productName} åŠ å…¥é¡˜æœ›æ¸…å–®`);
                    } else {
                        showNotification(`å·²å°‡ ${productName} å¾é¡˜æœ›æ¸…å–®ç§»é™¤`);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    showNotification('æ“ä½œå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                    button.classList.toggle('active'); // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
                });
        }

        // åŠ å…¥è³¼ç‰©è»ŠåŠŸèƒ½
        function addToCart(button) {
            const productId = button.dataset.productId;
            const productName = button.dataset.productName;
            const productPrice = parseFloat(button.dataset.productPrice);
            const productImage = button.closest('.product-card').querySelector('.product-image').src;
            const quantityInput = button.parentElement.querySelector('.quantity-input');
            const quantity = quantityInput ? parseInt(quantityInput.value) : 1;

            // ç™¼é€è«‹æ±‚åˆ°å¾Œç«¯API
            fetch('/api/cart/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    productId: productId,
                    name: productName,
                    price: productPrice,
                    quantity: quantity,
                    image: productImage
                })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    // æ›´æ–°è³¼ç‰©è»Šæ•¸é‡
                    updateCartCount();
                    // é¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼ˆå«æ•¸é‡å’Œç¸½åƒ¹ï¼‰
                    showNotification(`å·²å°‡ ${quantity} ä»¶ ${productName} åŠ å…¥è³¼ç‰©è»Šï¼Œç¸½åƒ¹ï¼š${productPrice * quantity} å…ƒ`);
                })
                .catch(error => {
                    console.error('Error:', error);
                    showNotification('åŠ å…¥è³¼ç‰©è»Šå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                });
        }

        function applyCategoryFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const categoryParam = urlParams.get('category');
            if (categoryParam) {
                filterProducts(categoryParam);
            } else {
                // è‹¥ç„¡åƒæ•¸å‰‡é¡¯ç¤ºå…¨éƒ¨
                filterProducts('');
            }
        }

        // é é¢è¼‰å…¥æ™‚
        document.addEventListener('DOMContentLoaded', function () {
            applyCategoryFromURL();
        });

        // ç¶²å€è®Šå‹•æ™‚ï¼ˆä¾‹å¦‚ä½¿ç”¨è€…é»æ“Šå°è¦½åˆ—åˆ†é¡ï¼‰
        window.addEventListener('popstate', function () {
            applyCategoryFromURL();
        });
    </script>


</body>

</html>